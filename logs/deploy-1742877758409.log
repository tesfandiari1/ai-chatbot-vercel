[2025-03-25T04:42:38.412Z] Logging to logs/deploy-1742877758409.log
[2025-03-25T04:42:38.413Z] Checking environment variables...
[2025-03-25T04:42:38.413Z] .env.local file found
[2025-03-25T04:42:38.415Z] All required environment variables are set
[2025-03-25T04:42:38.415Z] Running code quality checks...
[2025-03-25T04:42:38.415Z] Running lint checks...
[2025-03-25T04:42:38.417Z] Checking TypeScript types...

> ai-chatbot@0.1.0 lint:fix /Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel
> next lint --fix && biome lint --write --unsafe

✔ No ESLint warnings or errors
[2025-03-25T04:42:40.824Z] TypeScript checks passed successfully
/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(auth)/login/page.ts:7:30 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Object' as a type.
  
    5 │ type TEntry = typeof import('../../../../../app/(auth)/login/page.js')
    6 │ 
  > 7 │ type SegmentParams<T extends Object = any> = T extends Record<string, any>
      │                              ^^^^^^
    8 │   ? { [K in keyof T]: T[K] extends string ? string | string[] | undefined : never }
    9 │   : T
  
  i Prefer explicitly define the object shape. This type means "any non-nullable value", which is slightly better than 'unknown', but it's still a broad type.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(auth)/login/page.ts:13:12 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    11 │ // Check that the entry is a valid entry
    12 │ checkFields<Diff<{
  > 13 │   default: Function
       │            ^^^^^^^^
    14 │   config?: {}
    15 │   generateStaticParams?: Function
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(auth)/login/page.ts:14:12 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use '{}' as a type.
  
    12 │ checkFields<Diff<{
    13 │   default: Function
  > 14 │   config?: {}
       │            ^^
    15 │   generateStaticParams?: Function
    16 │   revalidate?: RevalidateRange<TEntry> | false
  
  i Prefer explicitly define the object shape. '{}' means "any non-nullable value".
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(auth)/login/page.ts:15:26 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    13 │   default: Function
    14 │   config?: {}
  > 15 │   generateStaticParams?: Function
       │                          ^^^^^^^^
    16 │   revalidate?: RevalidateRange<TEntry> | false
    17 │   dynamic?: 'auto' | 'force-dynamic' | 'error' | 'force-static'
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(auth)/login/page.ts:25:22 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    24 │   metadata?: any
  > 25 │   generateMetadata?: Function
       │                      ^^^^^^^^
    26 │   viewport?: any
    27 │   generateViewport?: Function
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(auth)/login/page.ts:27:22 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    25 │   generateMetadata?: Function
    26 │   viewport?: any
  > 27 │   generateViewport?: Function
       │                      ^^^^^^^^
    28 │   experimental_ppr?: boolean
    29 │   
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(auth)/login/page.ts:70:84 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use '{}' as a type.
  
    68 │ // If T is unknown or any, it will be an empty {} type. Otherwise, it will be the same as Omit<T, keyof Base>.
    69 │ type OmitWithTag<T, K extends keyof any, _M> = Omit<T, K>
  > 70 │ type Diff<Base, T extends Base, Message extends string = ''> = 0 extends (1 & T) ? {} : OmitWithTag<T, keyof Base, Message>
       │                                                                                    ^^
    71 │ 
    72 │ type FirstArg<T extends Function> = T extends (...args: [infer T, any]) => any ? unknown extends T ? any : T : never
  
  i Prefer explicitly define the object shape. '{}' means "any non-nullable value".
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(auth)/login/page.ts:72:25 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    70 │ type Diff<Base, T extends Base, Message extends string = ''> = 0 extends (1 & T) ? {} : OmitWithTag<T, keyof Base, Message>
    71 │ 
  > 72 │ type FirstArg<T extends Function> = T extends (...args: [infer T, any]) => any ? unknown extends T ? any : T : never
       │                         ^^^^^^^^
    73 │ type SecondArg<T extends Function> = T extends (...args: [any, infer T]) => any ? unknown extends T ? any : T : never
    74 │ type MaybeField<T, K extends string> = T extends { [k in K]: infer G } ? G extends Function ? G : never : never
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(auth)/login/page.ts:73:26 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    72 │ type FirstArg<T extends Function> = T extends (...args: [infer T, any]) => any ? unknown extends T ? any : T : never
  > 73 │ type SecondArg<T extends Function> = T extends (...args: [any, infer T]) => any ? unknown extends T ? any : T : never
       │                          ^^^^^^^^
    74 │ type MaybeField<T, K extends string> = T extends { [k in K]: infer G } ? G extends Function ? G : never : never
    75 │ 
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(auth)/login/page.ts:74:84 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    72 │ type FirstArg<T extends Function> = T extends (...args: [infer T, any]) => any ? unknown extends T ? any : T : never
    73 │ type SecondArg<T extends Function> = T extends (...args: [any, infer T]) => any ? unknown extends T ? any : T : never
  > 74 │ type MaybeField<T, K extends string> = T extends { [k in K]: infer G } ? G extends Function ? G : never : never
       │                                                                                    ^^^^^^^^
    75 │ 
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(chat)/page.ts:7:30 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Object' as a type.
  
    5 │ type TEntry = typeof import('../../../../app/(chat)/page.js')
    6 │ 
  > 7 │ type SegmentParams<T extends Object = any> = T extends Record<string, any>
      │                              ^^^^^^
    8 │   ? { [K in keyof T]: T[K] extends string ? string | string[] | undefined : never }
    9 │   : T
  
  i Prefer explicitly define the object shape. This type means "any non-nullable value", which is slightly better than 'unknown', but it's still a broad type.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(chat)/page.ts:13:12 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    11 │ // Check that the entry is a valid entry
    12 │ checkFields<Diff<{
  > 13 │   default: Function
       │            ^^^^^^^^
    14 │   config?: {}
    15 │   generateStaticParams?: Function
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(chat)/page.ts:14:12 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use '{}' as a type.
  
    12 │ checkFields<Diff<{
    13 │   default: Function
  > 14 │   config?: {}
       │            ^^
    15 │   generateStaticParams?: Function
    16 │   revalidate?: RevalidateRange<TEntry> | false
  
  i Prefer explicitly define the object shape. '{}' means "any non-nullable value".
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(chat)/page.ts:15:26 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    13 │   default: Function
    14 │   config?: {}
  > 15 │   generateStaticParams?: Function
       │                          ^^^^^^^^
    16 │   revalidate?: RevalidateRange<TEntry> | false
    17 │   dynamic?: 'auto' | 'force-dynamic' | 'error' | 'force-static'
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(chat)/page.ts:25:22 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    24 │   metadata?: any
  > 25 │   generateMetadata?: Function
       │                      ^^^^^^^^
    26 │   viewport?: any
    27 │   generateViewport?: Function
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(chat)/page.ts:27:22 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    25 │   generateMetadata?: Function
    26 │   viewport?: any
  > 27 │   generateViewport?: Function
       │                      ^^^^^^^^
    28 │   experimental_ppr?: boolean
    29 │   
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(chat)/page.ts:70:84 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use '{}' as a type.
  
    68 │ // If T is unknown or any, it will be an empty {} type. Otherwise, it will be the same as Omit<T, keyof Base>.
    69 │ type OmitWithTag<T, K extends keyof any, _M> = Omit<T, K>
  > 70 │ type Diff<Base, T extends Base, Message extends string = ''> = 0 extends (1 & T) ? {} : OmitWithTag<T, keyof Base, Message>
       │                                                                                    ^^
    71 │ 
    72 │ type FirstArg<T extends Function> = T extends (...args: [infer T, any]) => any ? unknown extends T ? any : T : never
  
  i Prefer explicitly define the object shape. '{}' means "any non-nullable value".
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(chat)/page.ts:72:25 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    70 │ type Diff<Base, T extends Base, Message extends string = ''> = 0 extends (1 & T) ? {} : OmitWithTag<T, keyof Base, Message>
    71 │ 
  > 72 │ type FirstArg<T extends Function> = T extends (...args: [infer T, any]) => any ? unknown extends T ? any : T : never
       │                         ^^^^^^^^
    73 │ type SecondArg<T extends Function> = T extends (...args: [any, infer T]) => any ? unknown extends T ? any : T : never
    74 │ type MaybeField<T, K extends string> = T extends { [k in K]: infer G } ? G extends Function ? G : never : never
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(chat)/page.ts:73:26 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    72 │ type FirstArg<T extends Function> = T extends (...args: [infer T, any]) => any ? unknown extends T ? any : T : never
  > 73 │ type SecondArg<T extends Function> = T extends (...args: [any, infer T]) => any ? unknown extends T ? any : T : never
       │                          ^^^^^^^^
    74 │ type MaybeField<T, K extends string> = T extends { [k in K]: infer G } ? G extends Function ? G : never : never
    75 │ 
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/.next 2/types/app/(chat)/page.ts:74:84 lint/complexity/noBannedTypes ━━━━━━━━━━

  × Don't use 'Function' as a type.
  
    72 │ type FirstArg<T extends Function> = T extends (...args: [infer T, any]) => any ? unknown extends T ? any : T : never
    73 │ type SecondArg<T extends Function> = T extends (...args: [any, infer T]) => any ? unknown extends T ? any : T : never
  > 74 │ type MaybeField<T, K extends string> = T extends { [k in K]: infer G } ? G extends Function ? G : never : never
       │                                                                                    ^^^^^^^^
    75 │ 
  
  i Prefer explicitly define the function shape. This type accepts any function-like value, which can be a common source of bugs.
  

The number of diagnostics exceeds the number allowed by Biome.
Diagnostics not shown: 128.
Checked 201 files in 63ms. No fixes applied.
Found 148 errors.
lint ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Some errors were emitted while running checks.
  

 ELIFECYCLE  Command failed with exit code 1.
[33m[2025-03-25T04:42:40.916Z] WARNING: Lint checks failed with code 1, but continuing in development mode[39m
[2025-03-25T04:42:40.917Z] Setting up databases...
[2025-03-25T04:42:40.917Z] Starting PostgreSQL in Docker...
[2025-03-25T04:42:40.919Z] Starting Redis in Docker...
Unable to find image 'redis:7' locally
[2025-03-25T04:42:41.192Z] Docker is running.
[2025-03-25T04:42:41.235Z] PostgreSQL container is already running.
[2025-03-25T04:42:41.235Z] Testing PostgreSQL connection...
7: Pulling from library/redis
d9b636547744: Already exists
0464cdab0354: Pulling fs layer
34a9c6c6f311: Pulling fs layer
8953241cfe2c: Pulling fs layer
5d28a77a8be4: Pulling fs layer
2cb99843b7f3: Pulling fs layer
4f4fb700ef54: Pulling fs layer
229ac59a98f7: Pulling fs layer
5d28a77a8be4: Waiting
2cb99843b7f3: Waiting
4f4fb700ef54: Waiting
229ac59a98f7: Waiting
34a9c6c6f311: Verifying Checksum
34a9c6c6f311: Download complete
0464cdab0354: Verifying Checksum
0464cdab0354: Download complete
8953241cfe2c: Verifying Checksum
8953241cfe2c: Download complete
0464cdab0354: Pull complete
34a9c6c6f311: Pull complete
8953241cfe2c: Pull complete
2cb99843b7f3: Verifying Checksum
2cb99843b7f3: Download complete
4f4fb700ef54: Verifying Checksum
4f4fb700ef54: Download complete
5d28a77a8be4: Verifying Checksum
5d28a77a8be4: Download complete
229ac59a98f7: Verifying Checksum
229ac59a98f7: Download complete
5d28a77a8be4: Pull complete
2cb99843b7f3: Pull complete
4f4fb700ef54: Pull complete
229ac59a98f7: Pull complete
Digest: sha256:bd41d55aae1ecff61b2fafd0d66761223fe94a60373eb6bb781cfbb570a84079
Status: Downloaded newer image for redis:7
[2025-03-25T04:42:43.606Z] Redis container started: 7dc568381beedfc5e8a0d07ef430d9a8f55a4b0eab1dfa7adba8961b8b8cb100
[2025-03-25T04:42:43.607Z] Set KV_REST_API_URL environment variable for local Redis
[2025-03-25T04:42:43.607Z] Waiting for Redis to be ready...
[2025-03-25T04:42:44.314Z] PostgreSQL is ready and accepting connections!
[2025-03-25T04:42:44.314Z] Running database migrations...
[2025-03-25T04:42:44.314Z] ✅ PostgreSQL is ready for use!
[2025-03-25T04:42:44.314Z] Connection string: postgres://postgres:postgres@localhost:5432/uniwise
[2025-03-25T04:42:44.314Z] 
Press Ctrl+C to stop this script (PostgreSQL will continue running).
[2025-03-25T04:42:44.388Z] Running database migrations...
[2025-03-25T04:42:45.608Z] Testing Redis connectivity...
⏳ Running migrations...
❌ Migration failed
PostgresError: role "postgres" does not exist
    at ErrorResponse (/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/node_modules/.pnpm/postgres@3.4.5/node_modules/postgres/cjs/src/connection.js:788:26)
    at handle (/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/node_modules/.pnpm/postgres@3.4.5/node_modules/postgres/cjs/src/connection.js:474:6)
    at Socket.data (/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/node_modules/.pnpm/postgres@3.4.5/node_modules/postgres/cjs/src/connection.js:315:9)
    at Socket.emit (node:events:520:28)
    at addChunk (node:internal/streams/readable:559:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
    at Readable.push (node:internal/streams/readable:390:5)
    at TCP.onStreamRead (node:internal/stream_base_commons:191:23) {
  severity_local: 'FATAL',
  severity: 'FATAL',
  code: '28000',
  file: 'miscinit.c',
  line: '755',
  routine: 'InitializeSessionUserId'
}
Testing Redis connection...
Redis URL found, attempting connection...
Setting test value in Redis...
[2025-03-25T04:42:45.698Z] ERROR: ❌ Database migrations failed with code 1
[2025-03-25T04:42:45.698Z] ERROR: An error occurred: Database migrations failed with code 1
[33m[2025-03-25T04:42:45.699Z] WARNING: Database migrations failed with code 1, but continuing in development mode[39m
❌ Redis connection test failed with error: TypeError: fetch failed
    at node:internal/deps/undici/undici:13178:13
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async HttpClient.request (/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/node_modules/.pnpm/@upstash+redis@1.34.6/node_modules/@upstash/redis/nodejs.js:174:15)
    at async Pipeline.exec (/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/node_modules/.pnpm/@upstash+redis@1.34.6/node_modules/@upstash/redis/nodejs.js:2522:17)
    at async AutoPipelineExecutor.withAutoPipeline (/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/node_modules/.pnpm/@upstash+redis@1.34.6/node_modules/@upstash/redis/nodejs.js:373:21)
    at async testRedisConnection (/Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/test-redis.js:40:5) {
  [cause]: ConnectTimeoutError: Connect Timeout Error
      at onConnectTimeout (node:internal/deps/undici/undici:2331:28)
      at node:internal/deps/undici/undici:2283:50
      at Immediate._onImmediate (node:internal/deps/undici/undici:2315:13)
      at process.processImmediate (node:internal/timers:483:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}
[31m[2025-03-25T04:43:50.036Z] ERROR: Redis connection test failed with code 1[39m
[33m[2025-03-25T04:43:50.036Z] WARNING: Redis connection test failed: Redis connection test failed with code 1[39m
[33m[2025-03-25T04:43:50.036Z] WARNING: Continuing without verified Redis in development mode[39m
[2025-03-25T04:43:50.036Z] Skipping Next.js build (--skip-build flag provided or in dev mode)
[2025-03-25T04:43:50.036Z] Starting applications in development mode...
[33m[2025-03-25T04:43:50.037Z] WARNING: Port 3000 is already in use for Next.js[39m
[2025-03-25T04:43:50.037Z] Using alternative port 3001 for Next.js
[2025-03-25T04:43:50.037Z] Starting Next.js in development mode on port 3001...
[2025-03-25T04:43:50.038Z] All services started successfully!
[2025-03-25T04:43:50.039Z] 
    🚀 Services running:
      - Next.js: http://localhost:3001
      
      - PostgreSQL: localhost:5432
      - Redis: localhost:6379
    
[1G[0Juniwise> [10G[Next.js] 
> ai-chatbot@0.1.0 dev /Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel
> next dev --turbo "--" "-p" "3001"

[Next.js] Invalid project directory provided, no such directory: /Users/tristinesfandiari/Desktop/code/vercel-chatbot/ai-chatbot-vercel/-p
[Next.js]  ELIFECYCLE  Command failed with exit code 1.
[31m[2025-03-25T04:43:50.623Z] ERROR: Next.js dev server exited with code 1[39m
